{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/notification.service\";\nimport * as i2 from \"src/app/service/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"angular-feather\";\nimport * as i7 from \"../../pipe/sorter.pipe\";\nimport * as i8 from \"../../pipe/filter.pipe\";\n\nfunction NgxDataTableComponent_tr_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 20)(2, \"div\", 21)(3, \"div\", 22);\n    i0.ɵɵelement(4, \"div\", 23)(5, \"div\", 23);\n    i0.ɵɵelementEnd()()()();\n  }\n}\n\nfunction NgxDataTableComponent_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"i-feather\", 25);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"routerLink\", \"edit/0\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Add a new \", ctx_r1.entity, \" \");\n  }\n}\n\nfunction NgxDataTableComponent_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"th\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"i-feather\", 27);\n    i0.ɵɵlistener(\"click\", function NgxDataTableComponent_th_13_Template_i_feather_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const col_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.onColumnSelect(col_r5.key);\n    })(\"mouseover\", function NgxDataTableComponent_th_13_Template_i_feather_mouseover_2_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.showInfoAboutSorting();\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const col_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", col_r5.title, \" \");\n  }\n}\n\nfunction NgxDataTableComponent_tr_18_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const col_r11 = ctx.$implicit;\n    const row_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r9[col_r11.key], \" \");\n  }\n}\n\nfunction NgxDataTableComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, NgxDataTableComponent_tr_18_td_1_Template, 2, 1, \"td\", 12);\n    i0.ɵɵelementStart(2, \"td\")(3, \"div\", 28)(4, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function NgxDataTableComponent_tr_18_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const row_r9 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.onSelect(row_r9);\n    });\n    i0.ɵɵelementStart(5, \"i-feather\", 30);\n    i0.ɵɵtext(6, \"Edit \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function NgxDataTableComponent_tr_18_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const row_r9 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.onDelete(row_r9);\n    });\n    i0.ɵɵelementStart(8, \"i-feather\", 32);\n    i0.ɵɵtext(9, \"Delete \");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.columns);\n  }\n}\n\nfunction NgxDataTableComponent_li_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 33)(1, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function NgxDataTableComponent_li_29_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const pageNum_r16 = restoredCtx.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.jumptoPage(pageNum_r16);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const pageNum_r16 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"className\", ctx_r4.page === pageNum_r16 ? \"page-link active\" : \"page-link\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(pageNum_r16);\n  }\n}\n\nexport class NgxDataTableComponent {\n  constructor(notifyService, auth, router) {\n    this.notifyService = notifyService;\n    this.auth = auth;\n    this.router = router;\n    this.list = [];\n    this.columns = [];\n    this.entity = '';\n    this.selectOne = new EventEmitter();\n    this.deleteOne = new EventEmitter();\n    this.phrase = '';\n    this.filterKey = '';\n    this.changeText = true;\n    this.pageSize = 25;\n    this.startSlice = 0;\n    this.endSlice = 25;\n    this.page = 1;\n    this.columnKey = '';\n    this.sortDir = -1;\n  }\n\n  get pageList() {\n    const pageSize = Math.ceil(this.list.length / this.pageSize);\n    return new Array(pageSize).fill(1).map((x, i) => i + 1);\n  }\n\n  onColumnSelect(key) {\n    this.columnKey = key;\n    this.sortDir = this.sortDir * -1;\n  }\n\n  ngOnInit() {}\n\n  onSelect(entity) {\n    this.selectOne.emit(entity);\n  }\n\n  onDelete(entity) {\n    var _a;\n\n    if (this.auth.user$ && ((_a = this.auth.user$.value) === null || _a === void 0 ? void 0 : _a.role) === 3) {\n      if (!confirm('Do you really want to delete this record? This process cannot be undone.')) {\n        return false;\n      }\n\n      return this.deleteOne.emit(entity);\n    }\n\n    this.router.navigate(['forbidden']);\n  }\n\n  jumptoPage(pageNum) {\n    this.page = pageNum;\n    this.startSlice = this.pageSize * (pageNum - 1);\n    this.endSlice = this.startSlice + this.pageSize;\n  }\n\n  showInfoAboutSorting() {\n    this.notifyService.showInfo('Click the icons next to the column titles to sort the entire table by this column.', 'FaMoBase v.1.0.0');\n  }\n\n}\n\nNgxDataTableComponent.ɵfac = function NgxDataTableComponent_Factory(t) {\n  return new (t || NgxDataTableComponent)(i0.ɵɵdirectiveInject(i1.NotificationService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n};\n\nNgxDataTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NgxDataTableComponent,\n  selectors: [[\"ngx-data-table\"]],\n  inputs: {\n    list: \"list\",\n    columns: \"columns\",\n    entity: \"entity\"\n  },\n  outputs: {\n    selectOne: \"selectOne\",\n    deleteOne: \"deleteOne\"\n  },\n  decls: 34,\n  vars: 24,\n  consts: [[1, \"searchField\", \"form-group\"], [1, \"row\", \"align-items-center\"], [1, \"col-12\", \"select_container\"], [1, \"mb-3\", \"input_container\"], [\"type\", \"text\", \"placeholder\", \"Search in all columns at once...\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-12\", \"scroll\"], [4, \"ngIf\"], [\"class\", \"btn btn-success col-12\", 3, \"routerLink\", 4, \"ngIf\"], [1, \"row\", \"table-responsive\"], [1, \"table\", \"table-striped\", \"table-hover\", \"table-dark\"], [\"scope\", \"col\", \"class\", \"table-light\", 4, \"ngFor\", \"ngForOf\"], [1, \"table-light\"], [4, \"ngFor\", \"ngForOf\"], [\"aria-label\", \"paginator\"], [1, \"pagination\", \"pagination-lg\", \"mt-4\", \"nav\", \"justify-content-center\"], [3, \"className\"], [1, \"page-link\", 3, \"disabled\", \"click\"], [\"name\", \"corner-down-left\"], [\"class\", \"page-item\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"corner-down-right\"], [\"colspan\", \"3\"], [1, \"preloader\"], [1, \"lds-ripple\"], [1, \"lds-pos\"], [1, \"btn\", \"btn-success\", \"col-12\", 3, \"routerLink\"], [\"name\", \"user-plus\"], [\"scope\", \"col\", 1, \"table-light\"], [\"name\", \"Shuffle\", 3, \"click\", \"mouseover\"], [1, \"btn-group\"], [1, \"btn\", \"btn-warning\", 3, \"click\"], [\"name\", \"Settings\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"name\", \"file-minus\", \"data-confirm\", \"Are you sure to delete this item?\"], [1, \"page-item\"], [3, \"className\", \"click\"]],\n  template: function NgxDataTableComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function NgxDataTableComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.phrase = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵtemplate(6, NgxDataTableComponent_tr_6_Template, 6, 0, \"tr\", 6);\n      i0.ɵɵelementStart(7, \"div\");\n      i0.ɵɵtemplate(8, NgxDataTableComponent_button_8_Template, 3, 2, \"button\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"table\", 9)(11, \"thead\")(12, \"tr\");\n      i0.ɵɵtemplate(13, NgxDataTableComponent_th_13_Template, 3, 1, \"th\", 10);\n      i0.ɵɵelementStart(14, \"th\", 11);\n      i0.ɵɵtext(15, \"IMDB link\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"th\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"tbody\");\n      i0.ɵɵtemplate(18, NgxDataTableComponent_tr_18_Template, 10, 1, \"tr\", 12);\n      i0.ɵɵpipe(19, \"sorter\");\n      i0.ɵɵpipe(20, \"filter\");\n      i0.ɵɵpipe(21, \"slice\");\n      i0.ɵɵpipe(22, \"async\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(23, \"nav\", 13)(24, \"ul\", 14)(25, \"li\", 15)(26, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function NgxDataTableComponent_Template_button_click_26_listener() {\n        return ctx.jumptoPage(ctx.page - 1);\n      });\n      i0.ɵɵtext(27, \" Previous\");\n      i0.ɵɵelement(28, \"i-feather\", 17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(29, NgxDataTableComponent_li_29_Template, 3, 2, \"li\", 18);\n      i0.ɵɵelementStart(30, \"li\", 15)(31, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function NgxDataTableComponent_Template_button_click_31_listener() {\n        return ctx.jumptoPage(ctx.page + 1);\n      });\n      i0.ɵɵtext(32, \"Next\");\n      i0.ɵɵelement(33, \"i-feather\", 19);\n      i0.ɵɵelementEnd()()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.phrase);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.list || ctx.list.length == 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.auth.user$.value == null ? null : ctx.auth.user$.value.role) === 3);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.columns);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(19, 10, i0.ɵɵpipeBind3(20, 14, i0.ɵɵpipeBind3(21, 18, i0.ɵɵpipeBind1(22, 22, ctx.list$), ctx.startSlice, ctx.endSlice), ctx.phrase, ctx.filterKey), ctx.columnKey, ctx.sortDir));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"className\", ctx.page === 1 ? \"page-item disabled\" : \"page-item\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.page === 1);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.pageList);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"className\", ctx.page === ctx.pageList.length ? \"page-item disabled\" : \"page-item\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.page === ctx.pageList.length);\n    }\n  },\n  directives: [i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.NgIf, i3.RouterLink, i6.FeatherComponent, i5.NgForOf],\n  pipes: [i7.SorterPipe, i8.FilterPipe, i5.SlicePipe, i5.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJuZ3gtZGF0YS10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */\"]\n});","map":{"version":3,"sources":["D:/nyelvszo/Nyelvszo-v.2.0/frontend/src/app/data-table/ngx-data-table/ngx-data-table.component.ts"],"names":["EventEmitter","i0","i1","i2","i3","i4","i5","i6","i7","i8","NgxDataTableComponent_tr_6_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","NgxDataTableComponent_button_8_Template","ɵɵtext","ctx_r1","ɵɵnextContext","ɵɵproperty","ɵɵadvance","ɵɵtextInterpolate1","entity","NgxDataTableComponent_th_13_Template","_r7","ɵɵgetCurrentView","ɵɵlistener","NgxDataTableComponent_th_13_Template_i_feather_click_2_listener","restoredCtx","ɵɵrestoreView","col_r5","$implicit","ctx_r6","onColumnSelect","key","NgxDataTableComponent_th_13_Template_i_feather_mouseover_2_listener","ctx_r8","showInfoAboutSorting","title","NgxDataTableComponent_tr_18_td_1_Template","col_r11","row_r9","NgxDataTableComponent_tr_18_Template","_r14","ɵɵtemplate","NgxDataTableComponent_tr_18_Template_button_click_4_listener","ctx_r13","onSelect","NgxDataTableComponent_tr_18_Template_button_click_7_listener","ctx_r15","onDelete","ctx_r3","columns","NgxDataTableComponent_li_29_Template","_r18","NgxDataTableComponent_li_29_Template_button_click_1_listener","pageNum_r16","ctx_r17","jumptoPage","ctx_r4","page","ɵɵtextInterpolate","NgxDataTableComponent","constructor","notifyService","auth","router","list","selectOne","deleteOne","phrase","filterKey","changeText","pageSize","startSlice","endSlice","columnKey","sortDir","pageList","Math","ceil","length","Array","fill","map","x","i","ngOnInit","emit","_a","user$","value","role","confirm","navigate","pageNum","showInfo","ɵfac","NgxDataTableComponent_Factory","t","ɵɵdirectiveInject","NotificationService","AuthService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","outputs","decls","vars","consts","template","NgxDataTableComponent_Template","NgxDataTableComponent_Template_input_ngModelChange_4_listener","$event","ɵɵpipe","NgxDataTableComponent_Template_button_click_26_listener","NgxDataTableComponent_Template_button_click_31_listener","ɵɵpipeBind3","ɵɵpipeBind1","list$","directives","DefaultValueAccessor","NgControlStatus","NgModel","NgIf","RouterLink","FeatherComponent","NgForOf","pipes","SorterPipe","FilterPipe","SlicePipe","AsyncPipe","styles"],"mappings":"AAAA,SAASA,YAAT,QAA6B,eAA7B;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,sCAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,8BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,gBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,wBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,wBAApB;;AACA,SAASC,mCAAT,CAA6CC,EAA7C,EAAiDC,GAAjD,EAAsD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAChEV,IAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,CAA3B,EAA8B,IAA9B,EAAoC,EAApC,EAAwC,CAAxC,EAA2C,KAA3C,EAAkD,EAAlD,EAAsD,CAAtD,EAAyD,KAAzD,EAAgE,EAAhE;AACAZ,IAAAA,EAAE,CAACa,SAAH,CAAa,CAAb,EAAgB,KAAhB,EAAuB,EAAvB,EAA2B,CAA3B,EAA8B,KAA9B,EAAqC,EAArC;AACAb,IAAAA,EAAE,CAACc,YAAH;AACH;AAAE;;AACH,SAASC,uCAAT,CAAiDL,EAAjD,EAAqDC,GAArD,EAA0D;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACpEV,IAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,QAArB,EAA+B,EAA/B;AACAZ,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAACa,SAAH,CAAa,CAAb,EAAgB,WAAhB,EAA6B,EAA7B;AACAb,IAAAA,EAAE,CAACc,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMO,MAAM,GAAGjB,EAAE,CAACkB,aAAH,EAAf;AACAlB,IAAAA,EAAE,CAACmB,UAAH,CAAc,YAAd,EAA4B,QAA5B;AACAnB,IAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,IAAAA,EAAE,CAACqB,kBAAH,CAAsB,YAAtB,EAAoCJ,MAAM,CAACK,MAA3C,EAAmD,GAAnD;AACH;AAAE;;AACH,SAASC,oCAAT,CAA8Cb,EAA9C,EAAkDC,GAAlD,EAAuD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjE,UAAMc,GAAG,GAAGxB,EAAE,CAACyB,gBAAH,EAAZ;;AACAzB,IAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,EAA3B;AACAZ,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,WAArB,EAAkC,EAAlC;AACAZ,IAAAA,EAAE,CAAC0B,UAAH,CAAc,OAAd,EAAuB,SAASC,+DAAT,GAA2E;AAAE,YAAMC,WAAW,GAAG5B,EAAE,CAAC6B,aAAH,CAAiBL,GAAjB,CAApB;AAA2C,YAAMM,MAAM,GAAGF,WAAW,CAACG,SAA3B;AAAsC,YAAMC,MAAM,GAAGhC,EAAE,CAACkB,aAAH,EAAf;AAAmC,aAAOc,MAAM,CAACC,cAAP,CAAsBH,MAAM,CAACI,GAA7B,CAAP;AAA2C,KAAnQ,EAAqQ,WAArQ,EAAkR,SAASC,mEAAT,GAA+E;AAAEnC,MAAAA,EAAE,CAAC6B,aAAH,CAAiBL,GAAjB;AAAuB,YAAMY,MAAM,GAAGpC,EAAE,CAACkB,aAAH,EAAf;AAAmC,aAAOkB,MAAM,CAACC,oBAAP,EAAP;AAAuC,KAApc;AACArC,IAAAA,EAAE,CAACc,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMoB,MAAM,GAAGnB,GAAG,CAACoB,SAAnB;AACA/B,IAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,IAAAA,EAAE,CAACqB,kBAAH,CAAsB,GAAtB,EAA2BS,MAAM,CAACQ,KAAlC,EAAyC,GAAzC;AACH;AAAE;;AACH,SAASC,yCAAT,CAAmD7B,EAAnD,EAAuDC,GAAvD,EAA4D;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACtEV,IAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAZ,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAACc,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAM8B,OAAO,GAAG7B,GAAG,CAACoB,SAApB;AACA,UAAMU,MAAM,GAAGzC,EAAE,CAACkB,aAAH,GAAmBa,SAAlC;AACA/B,IAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,IAAAA,EAAE,CAACqB,kBAAH,CAAsB,GAAtB,EAA2BoB,MAAM,CAACD,OAAO,CAACN,GAAT,CAAjC,EAAgD,GAAhD;AACH;AAAE;;AACH,SAASQ,oCAAT,CAA8ChC,EAA9C,EAAkDC,GAAlD,EAAuD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjE,UAAMiC,IAAI,GAAG3C,EAAE,CAACyB,gBAAH,EAAb;;AACAzB,IAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAZ,IAAAA,EAAE,CAAC4C,UAAH,CAAc,CAAd,EAAiBL,yCAAjB,EAA4D,CAA5D,EAA+D,CAA/D,EAAkE,IAAlE,EAAwE,EAAxE;AACAvC,IAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,CAA3B,EAA8B,KAA9B,EAAqC,EAArC,EAAyC,CAAzC,EAA4C,QAA5C,EAAsD,EAAtD;AACAZ,IAAAA,EAAE,CAAC0B,UAAH,CAAc,OAAd,EAAuB,SAASmB,4DAAT,GAAwE;AAAE,YAAMjB,WAAW,GAAG5B,EAAE,CAAC6B,aAAH,CAAiBc,IAAjB,CAApB;AAA4C,YAAMF,MAAM,GAAGb,WAAW,CAACG,SAA3B;AAAsC,YAAMe,OAAO,GAAG9C,EAAE,CAACkB,aAAH,EAAhB;AAAoC,aAAO4B,OAAO,CAACC,QAAR,CAAiBN,MAAjB,CAAP;AAAkC,KAAzP;AACAzC,IAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,WAArB,EAAkC,EAAlC;AACAZ,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV,EAAa,OAAb;AACAhB,IAAAA,EAAE,CAACc,YAAH;AACAd,IAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,QAArB,EAA+B,EAA/B;AACAZ,IAAAA,EAAE,CAAC0B,UAAH,CAAc,OAAd,EAAuB,SAASsB,4DAAT,GAAwE;AAAE,YAAMpB,WAAW,GAAG5B,EAAE,CAAC6B,aAAH,CAAiBc,IAAjB,CAApB;AAA4C,YAAMF,MAAM,GAAGb,WAAW,CAACG,SAA3B;AAAsC,YAAMkB,OAAO,GAAGjD,EAAE,CAACkB,aAAH,EAAhB;AAAoC,aAAO+B,OAAO,CAACC,QAAR,CAAiBT,MAAjB,CAAP;AAAkC,KAAzP;AACAzC,IAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,WAArB,EAAkC,EAAlC;AACAZ,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV,EAAa,SAAb;AACAhB,IAAAA,EAAE,CAACc,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMyC,MAAM,GAAGnD,EAAE,CAACkB,aAAH,EAAf;AACAlB,IAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,IAAAA,EAAE,CAACmB,UAAH,CAAc,SAAd,EAAyBgC,MAAM,CAACC,OAAhC;AACH;AAAE;;AACH,SAASC,oCAAT,CAA8C3C,EAA9C,EAAkDC,GAAlD,EAAuD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjE,UAAM4C,IAAI,GAAGtD,EAAE,CAACyB,gBAAH,EAAb;;AACAzB,IAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,IAArB,EAA2B,EAA3B,EAA+B,CAA/B,EAAkC,QAAlC,EAA4C,EAA5C;AACAZ,IAAAA,EAAE,CAAC0B,UAAH,CAAc,OAAd,EAAuB,SAAS6B,4DAAT,GAAwE;AAAE,YAAM3B,WAAW,GAAG5B,EAAE,CAAC6B,aAAH,CAAiByB,IAAjB,CAApB;AAA4C,YAAME,WAAW,GAAG5B,WAAW,CAACG,SAAhC;AAA2C,YAAM0B,OAAO,GAAGzD,EAAE,CAACkB,aAAH,EAAhB;AAAoC,aAAOuC,OAAO,CAACC,UAAR,CAAmBF,WAAnB,CAAP;AAAyC,KAArQ;AACAxD,IAAAA,EAAE,CAACgB,MAAH,CAAU,CAAV;AACAhB,IAAAA,EAAE,CAACc,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAM8C,WAAW,GAAG7C,GAAG,CAACoB,SAAxB;AACA,UAAM4B,MAAM,GAAG3D,EAAE,CAACkB,aAAH,EAAf;AACAlB,IAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,IAAAA,EAAE,CAACmB,UAAH,CAAc,WAAd,EAA2BwC,MAAM,CAACC,IAAP,KAAgBJ,WAAhB,GAA8B,kBAA9B,GAAmD,WAA9E;AACAxD,IAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,IAAAA,EAAE,CAAC6D,iBAAH,CAAqBL,WAArB;AACH;AAAE;;AACH,OAAO,MAAMM,qBAAN,CAA4B;AAC/BC,EAAAA,WAAW,CAACC,aAAD,EAAgBC,IAAhB,EAAsBC,MAAtB,EAA8B;AACrC,SAAKF,aAAL,GAAqBA,aAArB;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,IAAL,GAAY,EAAZ;AACA,SAAKf,OAAL,GAAe,EAAf;AACA,SAAK9B,MAAL,GAAc,EAAd;AACA,SAAK8C,SAAL,GAAiB,IAAIrE,YAAJ,EAAjB;AACA,SAAKsE,SAAL,GAAiB,IAAItE,YAAJ,EAAjB;AACA,SAAKuE,MAAL,GAAc,EAAd;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKf,IAAL,GAAY,CAAZ;AACA,SAAKgB,SAAL,GAAiB,EAAjB;AACA,SAAKC,OAAL,GAAe,CAAC,CAAhB;AACH;;AACW,MAARC,QAAQ,GAAG;AACX,UAAML,QAAQ,GAAGM,IAAI,CAACC,IAAL,CAAU,KAAKb,IAAL,CAAUc,MAAV,GAAmB,KAAKR,QAAlC,CAAjB;AACA,WAAO,IAAIS,KAAJ,CAAUT,QAAV,EAAoBU,IAApB,CAAyB,CAAzB,EAA4BC,GAA5B,CAAgC,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,GAAG,CAA9C,CAAP;AACH;;AACDrD,EAAAA,cAAc,CAACC,GAAD,EAAM;AAChB,SAAK0C,SAAL,GAAiB1C,GAAjB;AACA,SAAK2C,OAAL,GAAe,KAAKA,OAAL,GAAe,CAAC,CAA/B;AACH;;AACDU,EAAAA,QAAQ,GAAG,CAAG;;AACdxC,EAAAA,QAAQ,CAACzB,MAAD,EAAS;AACb,SAAK8C,SAAL,CAAeoB,IAAf,CAAoBlE,MAApB;AACH;;AACD4B,EAAAA,QAAQ,CAAC5B,MAAD,EAAS;AACb,QAAImE,EAAJ;;AACA,QAAI,KAAKxB,IAAL,CAAUyB,KAAV,IAAmB,CAAC,CAACD,EAAE,GAAG,KAAKxB,IAAL,CAAUyB,KAAV,CAAgBC,KAAtB,MAAiC,IAAjC,IAAyCF,EAAE,KAAK,KAAK,CAArD,GAAyD,KAAK,CAA9D,GAAkEA,EAAE,CAACG,IAAtE,MAAgF,CAAvG,EAA0G;AACtG,UAAI,CAACC,OAAO,CAAC,0EAAD,CAAZ,EAA0F;AACtF,eAAO,KAAP;AACH;;AACD,aAAO,KAAKxB,SAAL,CAAemB,IAAf,CAAoBlE,MAApB,CAAP;AACH;;AACD,SAAK4C,MAAL,CAAY4B,QAAZ,CAAqB,CAAC,WAAD,CAArB;AACH;;AACDpC,EAAAA,UAAU,CAACqC,OAAD,EAAU;AAChB,SAAKnC,IAAL,GAAYmC,OAAZ;AACA,SAAKrB,UAAL,GAAkB,KAAKD,QAAL,IAAiBsB,OAAO,GAAG,CAA3B,CAAlB;AACA,SAAKpB,QAAL,GAAgB,KAAKD,UAAL,GAAkB,KAAKD,QAAvC;AACH;;AACDpC,EAAAA,oBAAoB,GAAG;AACnB,SAAK2B,aAAL,CAAmBgC,QAAnB,CAA4B,oFAA5B,EAAkH,kBAAlH;AACH;;AAjD8B;;AAmDnClC,qBAAqB,CAACmC,IAAtB,GAA6B,SAASC,6BAAT,CAAuCC,CAAvC,EAA0C;AAAE,SAAO,KAAKA,CAAC,IAAIrC,qBAAV,EAAiC9D,EAAE,CAACoG,iBAAH,CAAqBnG,EAAE,CAACoG,mBAAxB,CAAjC,EAA+ErG,EAAE,CAACoG,iBAAH,CAAqBlG,EAAE,CAACoG,WAAxB,CAA/E,EAAqHtG,EAAE,CAACoG,iBAAH,CAAqBjG,EAAE,CAACoG,MAAxB,CAArH,CAAP;AAA+J,CAAxO;;AACAzC,qBAAqB,CAAC0C,IAAtB,GAA6B,aAAcxG,EAAE,CAACyG,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAE5C,qBAAR;AAA+B6C,EAAAA,SAAS,EAAE,CAAC,CAAC,gBAAD,CAAD,CAA1C;AAAgEC,EAAAA,MAAM,EAAE;AAAEzC,IAAAA,IAAI,EAAE,MAAR;AAAgBf,IAAAA,OAAO,EAAE,SAAzB;AAAoC9B,IAAAA,MAAM,EAAE;AAA5C,GAAxE;AAAgIuF,EAAAA,OAAO,EAAE;AAAEzC,IAAAA,SAAS,EAAE,WAAb;AAA0BC,IAAAA,SAAS,EAAE;AAArC,GAAzI;AAA6LyC,EAAAA,KAAK,EAAE,EAApM;AAAwMC,EAAAA,IAAI,EAAE,EAA9M;AAAkNC,EAAAA,MAAM,EAAE,CAAC,CAAC,CAAD,EAAI,aAAJ,EAAmB,YAAnB,CAAD,EAAmC,CAAC,CAAD,EAAI,KAAJ,EAAW,oBAAX,CAAnC,EAAqE,CAAC,CAAD,EAAI,QAAJ,EAAc,kBAAd,CAArE,EAAwG,CAAC,CAAD,EAAI,MAAJ,EAAY,iBAAZ,CAAxG,EAAwI,CAAC,MAAD,EAAS,MAAT,EAAiB,aAAjB,EAAgC,kCAAhC,EAAoE,CAApE,EAAuE,cAAvE,EAAuF,CAAvF,EAA0F,SAA1F,EAAqG,eAArG,CAAxI,EAA+P,CAAC,CAAD,EAAI,QAAJ,EAAc,QAAd,CAA/P,EAAwR,CAAC,CAAD,EAAI,MAAJ,CAAxR,EAAqS,CAAC,OAAD,EAAU,wBAAV,EAAoC,CAApC,EAAuC,YAAvC,EAAqD,CAArD,EAAwD,MAAxD,CAArS,EAAsW,CAAC,CAAD,EAAI,KAAJ,EAAW,kBAAX,CAAtW,EAAsY,CAAC,CAAD,EAAI,OAAJ,EAAa,eAAb,EAA8B,aAA9B,EAA6C,YAA7C,CAAtY,EAAkc,CAAC,OAAD,EAAU,KAAV,EAAiB,OAAjB,EAA0B,aAA1B,EAAyC,CAAzC,EAA4C,OAA5C,EAAqD,SAArD,CAAlc,EAAmgB,CAAC,CAAD,EAAI,aAAJ,CAAngB,EAAuhB,CAAC,CAAD,EAAI,OAAJ,EAAa,SAAb,CAAvhB,EAAgjB,CAAC,YAAD,EAAe,WAAf,CAAhjB,EAA6kB,CAAC,CAAD,EAAI,YAAJ,EAAkB,eAAlB,EAAmC,MAAnC,EAA2C,KAA3C,EAAkD,wBAAlD,CAA7kB,EAA0pB,CAAC,CAAD,EAAI,WAAJ,CAA1pB,EAA4qB,CAAC,CAAD,EAAI,WAAJ,EAAiB,CAAjB,EAAoB,UAApB,EAAgC,OAAhC,CAA5qB,EAAstB,CAAC,MAAD,EAAS,kBAAT,CAAttB,EAAovB,CAAC,OAAD,EAAU,WAAV,EAAuB,CAAvB,EAA0B,OAA1B,EAAmC,SAAnC,CAApvB,EAAmyB,CAAC,MAAD,EAAS,mBAAT,CAAnyB,EAAk0B,CAAC,SAAD,EAAY,GAAZ,CAAl0B,EAAo1B,CAAC,CAAD,EAAI,WAAJ,CAAp1B,EAAs2B,CAAC,CAAD,EAAI,YAAJ,CAAt2B,EAAy3B,CAAC,CAAD,EAAI,SAAJ,CAAz3B,EAAy4B,CAAC,CAAD,EAAI,KAAJ,EAAW,aAAX,EAA0B,QAA1B,EAAoC,CAApC,EAAuC,YAAvC,CAAz4B,EAA+7B,CAAC,MAAD,EAAS,WAAT,CAA/7B,EAAs9B,CAAC,OAAD,EAAU,KAAV,EAAiB,CAAjB,EAAoB,aAApB,CAAt9B,EAA0/B,CAAC,MAAD,EAAS,SAAT,EAAoB,CAApB,EAAuB,OAAvB,EAAgC,WAAhC,CAA1/B,EAAwiC,CAAC,CAAD,EAAI,WAAJ,CAAxiC,EAA0jC,CAAC,CAAD,EAAI,KAAJ,EAAW,aAAX,EAA0B,CAA1B,EAA6B,OAA7B,CAA1jC,EAAimC,CAAC,MAAD,EAAS,UAAT,CAAjmC,EAAunC,CAAC,CAAD,EAAI,KAAJ,EAAW,YAAX,EAAyB,CAAzB,EAA4B,OAA5B,CAAvnC,EAA6pC,CAAC,MAAD,EAAS,YAAT,EAAuB,cAAvB,EAAuC,mCAAvC,CAA7pC,EAA0uC,CAAC,CAAD,EAAI,WAAJ,CAA1uC,EAA4vC,CAAC,CAAD,EAAI,WAAJ,EAAiB,OAAjB,CAA5vC,CAA1N;AAAk/CC,EAAAA,QAAQ,EAAE,SAASC,8BAAT,CAAwCxG,EAAxC,EAA4CC,GAA5C,EAAiD;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AACnnDV,MAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,KAAlC,EAAyC,CAAzC,EAA4C,CAA5C,EAA+C,KAA/C,EAAsD,CAAtD,EAAyD,CAAzD,EAA4D,KAA5D,EAAmE,CAAnE,EAAsE,CAAtE,EAAyE,OAAzE,EAAkF,CAAlF;AACAZ,MAAAA,EAAE,CAAC0B,UAAH,CAAc,eAAd,EAA+B,SAASyF,6DAAT,CAAuEC,MAAvE,EAA+E;AAAE,eAAOzG,GAAG,CAAC2D,MAAJ,GAAa8C,MAApB;AAA6B,OAA7I;AACApH,MAAAA,EAAE,CAACc,YAAH;AACAd,MAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAZ,MAAAA,EAAE,CAAC4C,UAAH,CAAc,CAAd,EAAiBnC,mCAAjB,EAAsD,CAAtD,EAAyD,CAAzD,EAA4D,IAA5D,EAAkE,CAAlE;AACAT,MAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,KAArB;AACAZ,MAAAA,EAAE,CAAC4C,UAAH,CAAc,CAAd,EAAiB7B,uCAAjB,EAA0D,CAA1D,EAA6D,CAA7D,EAAgE,QAAhE,EAA0E,CAA1E;AACAf,MAAAA,EAAE,CAACc,YAAH;AACAd,MAAAA,EAAE,CAACY,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B,EAA+B,EAA/B,EAAmC,OAAnC,EAA4C,CAA5C,EAA+C,EAA/C,EAAmD,OAAnD,EAA4D,EAA5D,EAAgE,IAAhE;AACAZ,MAAAA,EAAE,CAAC4C,UAAH,CAAc,EAAd,EAAkBrB,oCAAlB,EAAwD,CAAxD,EAA2D,CAA3D,EAA8D,IAA9D,EAAoE,EAApE;AACAvB,MAAAA,EAAE,CAACY,cAAH,CAAkB,EAAlB,EAAsB,IAAtB,EAA4B,EAA5B;AACAZ,MAAAA,EAAE,CAACgB,MAAH,CAAU,EAAV,EAAc,WAAd;AACAhB,MAAAA,EAAE,CAACc,YAAH;AACAd,MAAAA,EAAE,CAACa,SAAH,CAAa,EAAb,EAAiB,IAAjB,EAAuB,EAAvB;AACAb,MAAAA,EAAE,CAACc,YAAH;AACAd,MAAAA,EAAE,CAACY,cAAH,CAAkB,EAAlB,EAAsB,OAAtB;AACAZ,MAAAA,EAAE,CAAC4C,UAAH,CAAc,EAAd,EAAkBF,oCAAlB,EAAwD,EAAxD,EAA4D,CAA5D,EAA+D,IAA/D,EAAqE,EAArE;AACA1C,MAAAA,EAAE,CAACqH,MAAH,CAAU,EAAV,EAAc,QAAd;AACArH,MAAAA,EAAE,CAACqH,MAAH,CAAU,EAAV,EAAc,QAAd;AACArH,MAAAA,EAAE,CAACqH,MAAH,CAAU,EAAV,EAAc,OAAd;AACArH,MAAAA,EAAE,CAACqH,MAAH,CAAU,EAAV,EAAc,OAAd;AACArH,MAAAA,EAAE,CAACc,YAAH;AACAd,MAAAA,EAAE,CAACY,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,IAArC,EAA2C,EAA3C,EAA+C,EAA/C,EAAmD,IAAnD,EAAyD,EAAzD,EAA6D,EAA7D,EAAiE,QAAjE,EAA2E,EAA3E;AACAZ,MAAAA,EAAE,CAAC0B,UAAH,CAAc,OAAd,EAAuB,SAAS4F,uDAAT,GAAmE;AAAE,eAAO3G,GAAG,CAAC+C,UAAJ,CAAe/C,GAAG,CAACiD,IAAJ,GAAW,CAA1B,CAAP;AAAsC,OAAlI;AACA5D,MAAAA,EAAE,CAACgB,MAAH,CAAU,EAAV,EAAc,WAAd;AACAhB,MAAAA,EAAE,CAACa,SAAH,CAAa,EAAb,EAAiB,WAAjB,EAA8B,EAA9B;AACAb,MAAAA,EAAE,CAACc,YAAH;AACAd,MAAAA,EAAE,CAAC4C,UAAH,CAAc,EAAd,EAAkBS,oCAAlB,EAAwD,CAAxD,EAA2D,CAA3D,EAA8D,IAA9D,EAAoE,EAApE;AACArD,MAAAA,EAAE,CAACY,cAAH,CAAkB,EAAlB,EAAsB,IAAtB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,QAApC,EAA8C,EAA9C;AACAZ,MAAAA,EAAE,CAAC0B,UAAH,CAAc,OAAd,EAAuB,SAAS6F,uDAAT,GAAmE;AAAE,eAAO5G,GAAG,CAAC+C,UAAJ,CAAe/C,GAAG,CAACiD,IAAJ,GAAW,CAA1B,CAAP;AAAsC,OAAlI;AACA5D,MAAAA,EAAE,CAACgB,MAAH,CAAU,EAAV,EAAc,MAAd;AACAhB,MAAAA,EAAE,CAACa,SAAH,CAAa,EAAb,EAAiB,WAAjB,EAA8B,EAA9B;AACAb,MAAAA,EAAE,CAACc,YAAH;AACH;;AAAC,QAAIJ,EAAE,GAAG,CAAT,EAAY;AACVV,MAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,MAAAA,EAAE,CAACmB,UAAH,CAAc,SAAd,EAAyBR,GAAG,CAAC2D,MAA7B;AACAtE,MAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,MAAAA,EAAE,CAACmB,UAAH,CAAc,MAAd,EAAsB,CAACR,GAAG,CAACwD,IAAL,IAAaxD,GAAG,CAACwD,IAAJ,CAASc,MAAT,IAAmB,CAAtD;AACAjF,MAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,MAAAA,EAAE,CAACmB,UAAH,CAAc,MAAd,EAAsB,CAACR,GAAG,CAACsD,IAAJ,CAASyB,KAAT,CAAeC,KAAf,IAAwB,IAAxB,GAA+B,IAA/B,GAAsChF,GAAG,CAACsD,IAAJ,CAASyB,KAAT,CAAeC,KAAf,CAAqBC,IAA5D,MAAsE,CAA5F;AACA5F,MAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,MAAAA,EAAE,CAACmB,UAAH,CAAc,SAAd,EAAyBR,GAAG,CAACyC,OAA7B;AACApD,MAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,MAAAA,EAAE,CAACmB,UAAH,CAAc,SAAd,EAAyBnB,EAAE,CAACwH,WAAH,CAAe,EAAf,EAAmB,EAAnB,EAAuBxH,EAAE,CAACwH,WAAH,CAAe,EAAf,EAAmB,EAAnB,EAAuBxH,EAAE,CAACwH,WAAH,CAAe,EAAf,EAAmB,EAAnB,EAAuBxH,EAAE,CAACyH,WAAH,CAAe,EAAf,EAAmB,EAAnB,EAAuB9G,GAAG,CAAC+G,KAA3B,CAAvB,EAA0D/G,GAAG,CAAC+D,UAA9D,EAA0E/D,GAAG,CAACgE,QAA9E,CAAvB,EAAgHhE,GAAG,CAAC2D,MAApH,EAA4H3D,GAAG,CAAC4D,SAAhI,CAAvB,EAAmK5D,GAAG,CAACiE,SAAvK,EAAkLjE,GAAG,CAACkE,OAAtL,CAAzB;AACA7E,MAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,MAAAA,EAAE,CAACmB,UAAH,CAAc,WAAd,EAA2BR,GAAG,CAACiD,IAAJ,KAAa,CAAb,GAAiB,oBAAjB,GAAwC,WAAnE;AACA5D,MAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,MAAAA,EAAE,CAACmB,UAAH,CAAc,UAAd,EAA0BR,GAAG,CAACiD,IAAJ,KAAa,CAAvC;AACA5D,MAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,MAAAA,EAAE,CAACmB,UAAH,CAAc,SAAd,EAAyBR,GAAG,CAACmE,QAA7B;AACA9E,MAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,MAAAA,EAAE,CAACmB,UAAH,CAAc,WAAd,EAA2BR,GAAG,CAACiD,IAAJ,KAAajD,GAAG,CAACmE,QAAJ,CAAaG,MAA1B,GAAmC,oBAAnC,GAA0D,WAArF;AACAjF,MAAAA,EAAE,CAACoB,SAAH,CAAa,CAAb;AACApB,MAAAA,EAAE,CAACmB,UAAH,CAAc,UAAd,EAA0BR,GAAG,CAACiD,IAAJ,KAAajD,GAAG,CAACmE,QAAJ,CAAaG,MAApD;AACH;AAAE,GAvDyD;AAuDvD0C,EAAAA,UAAU,EAAE,CAACvH,EAAE,CAACwH,oBAAJ,EAA0BxH,EAAE,CAACyH,eAA7B,EAA8CzH,EAAE,CAAC0H,OAAjD,EAA0DzH,EAAE,CAAC0H,IAA7D,EAAmE5H,EAAE,CAAC6H,UAAtE,EAAkF1H,EAAE,CAAC2H,gBAArF,EAAuG5H,EAAE,CAAC6H,OAA1G,CAvD2C;AAuDyEC,EAAAA,KAAK,EAAE,CAAC5H,EAAE,CAAC6H,UAAJ,EAAgB5H,EAAE,CAAC6H,UAAnB,EAA+BhI,EAAE,CAACiI,SAAlC,EAA6CjI,EAAE,CAACkI,SAAhD,CAvDhF;AAuD4IC,EAAAA,MAAM,EAAE,CAAC,iLAAD;AAvDpJ,CAArB,CAA3C","sourcesContent":["import { EventEmitter } from '@angular/core';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/service/notification.service\";\r\nimport * as i2 from \"src/app/service/auth.service\";\r\nimport * as i3 from \"@angular/router\";\r\nimport * as i4 from \"@angular/forms\";\r\nimport * as i5 from \"@angular/common\";\r\nimport * as i6 from \"angular-feather\";\r\nimport * as i7 from \"../../pipe/sorter.pipe\";\r\nimport * as i8 from \"../../pipe/filter.pipe\";\r\nfunction NgxDataTableComponent_tr_6_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 20)(2, \"div\", 21)(3, \"div\", 22);\r\n    i0.ɵɵelement(4, \"div\", 23)(5, \"div\", 23);\r\n    i0.ɵɵelementEnd()()()();\r\n} }\r\nfunction NgxDataTableComponent_button_8_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"button\", 24);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelement(2, \"i-feather\", 25);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"routerLink\", \"edit/0\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\"Add a new \", ctx_r1.entity, \" \");\r\n} }\r\nfunction NgxDataTableComponent_th_13_Template(rf, ctx) { if (rf & 1) {\r\n    const _r7 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"th\", 26);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementStart(2, \"i-feather\", 27);\r\n    i0.ɵɵlistener(\"click\", function NgxDataTableComponent_th_13_Template_i_feather_click_2_listener() { const restoredCtx = i0.ɵɵrestoreView(_r7); const col_r5 = restoredCtx.$implicit; const ctx_r6 = i0.ɵɵnextContext(); return ctx_r6.onColumnSelect(col_r5.key); })(\"mouseover\", function NgxDataTableComponent_th_13_Template_i_feather_mouseover_2_listener() { i0.ɵɵrestoreView(_r7); const ctx_r8 = i0.ɵɵnextContext(); return ctx_r8.showInfoAboutSorting(); });\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const col_r5 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", col_r5.title, \" \");\r\n} }\r\nfunction NgxDataTableComponent_tr_18_td_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\");\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const col_r11 = ctx.$implicit;\r\n    const row_r9 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", row_r9[col_r11.key], \" \");\r\n} }\r\nfunction NgxDataTableComponent_tr_18_Template(rf, ctx) { if (rf & 1) {\r\n    const _r14 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tr\");\r\n    i0.ɵɵtemplate(1, NgxDataTableComponent_tr_18_td_1_Template, 2, 1, \"td\", 12);\r\n    i0.ɵɵelementStart(2, \"td\")(3, \"div\", 28)(4, \"button\", 29);\r\n    i0.ɵɵlistener(\"click\", function NgxDataTableComponent_tr_18_Template_button_click_4_listener() { const restoredCtx = i0.ɵɵrestoreView(_r14); const row_r9 = restoredCtx.$implicit; const ctx_r13 = i0.ɵɵnextContext(); return ctx_r13.onSelect(row_r9); });\r\n    i0.ɵɵelementStart(5, \"i-feather\", 30);\r\n    i0.ɵɵtext(6, \"Edit \");\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(7, \"button\", 31);\r\n    i0.ɵɵlistener(\"click\", function NgxDataTableComponent_tr_18_Template_button_click_7_listener() { const restoredCtx = i0.ɵɵrestoreView(_r14); const row_r9 = restoredCtx.$implicit; const ctx_r15 = i0.ɵɵnextContext(); return ctx_r15.onDelete(row_r9); });\r\n    i0.ɵɵelementStart(8, \"i-feather\", 32);\r\n    i0.ɵɵtext(9, \"Delete \");\r\n    i0.ɵɵelementEnd()()()()();\r\n} if (rf & 2) {\r\n    const ctx_r3 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.columns);\r\n} }\r\nfunction NgxDataTableComponent_li_29_Template(rf, ctx) { if (rf & 1) {\r\n    const _r18 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"li\", 33)(1, \"button\", 34);\r\n    i0.ɵɵlistener(\"click\", function NgxDataTableComponent_li_29_Template_button_click_1_listener() { const restoredCtx = i0.ɵɵrestoreView(_r18); const pageNum_r16 = restoredCtx.$implicit; const ctx_r17 = i0.ɵɵnextContext(); return ctx_r17.jumptoPage(pageNum_r16); });\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const pageNum_r16 = ctx.$implicit;\r\n    const ctx_r4 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"className\", ctx_r4.page === pageNum_r16 ? \"page-link active\" : \"page-link\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(pageNum_r16);\r\n} }\r\nexport class NgxDataTableComponent {\r\n    constructor(notifyService, auth, router) {\r\n        this.notifyService = notifyService;\r\n        this.auth = auth;\r\n        this.router = router;\r\n        this.list = [];\r\n        this.columns = [];\r\n        this.entity = '';\r\n        this.selectOne = new EventEmitter();\r\n        this.deleteOne = new EventEmitter();\r\n        this.phrase = '';\r\n        this.filterKey = '';\r\n        this.changeText = true;\r\n        this.pageSize = 25;\r\n        this.startSlice = 0;\r\n        this.endSlice = 25;\r\n        this.page = 1;\r\n        this.columnKey = '';\r\n        this.sortDir = -1;\r\n    }\r\n    get pageList() {\r\n        const pageSize = Math.ceil(this.list.length / this.pageSize);\r\n        return new Array(pageSize).fill(1).map((x, i) => i + 1);\r\n    }\r\n    onColumnSelect(key) {\r\n        this.columnKey = key;\r\n        this.sortDir = this.sortDir * -1;\r\n    }\r\n    ngOnInit() { }\r\n    onSelect(entity) {\r\n        this.selectOne.emit(entity);\r\n    }\r\n    onDelete(entity) {\r\n        var _a;\r\n        if (this.auth.user$ && ((_a = this.auth.user$.value) === null || _a === void 0 ? void 0 : _a.role) === 3) {\r\n            if (!confirm('Do you really want to delete this record? This process cannot be undone.')) {\r\n                return false;\r\n            }\r\n            return this.deleteOne.emit(entity);\r\n        }\r\n        this.router.navigate(['forbidden']);\r\n    }\r\n    jumptoPage(pageNum) {\r\n        this.page = pageNum;\r\n        this.startSlice = this.pageSize * (pageNum - 1);\r\n        this.endSlice = this.startSlice + this.pageSize;\r\n    }\r\n    showInfoAboutSorting() {\r\n        this.notifyService.showInfo('Click the icons next to the column titles to sort the entire table by this column.', 'FaMoBase v.1.0.0');\r\n    }\r\n}\r\nNgxDataTableComponent.ɵfac = function NgxDataTableComponent_Factory(t) { return new (t || NgxDataTableComponent)(i0.ɵɵdirectiveInject(i1.NotificationService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router)); };\r\nNgxDataTableComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: NgxDataTableComponent, selectors: [[\"ngx-data-table\"]], inputs: { list: \"list\", columns: \"columns\", entity: \"entity\" }, outputs: { selectOne: \"selectOne\", deleteOne: \"deleteOne\" }, decls: 34, vars: 24, consts: [[1, \"searchField\", \"form-group\"], [1, \"row\", \"align-items-center\"], [1, \"col-12\", \"select_container\"], [1, \"mb-3\", \"input_container\"], [\"type\", \"text\", \"placeholder\", \"Search in all columns at once...\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-12\", \"scroll\"], [4, \"ngIf\"], [\"class\", \"btn btn-success col-12\", 3, \"routerLink\", 4, \"ngIf\"], [1, \"row\", \"table-responsive\"], [1, \"table\", \"table-striped\", \"table-hover\", \"table-dark\"], [\"scope\", \"col\", \"class\", \"table-light\", 4, \"ngFor\", \"ngForOf\"], [1, \"table-light\"], [4, \"ngFor\", \"ngForOf\"], [\"aria-label\", \"paginator\"], [1, \"pagination\", \"pagination-lg\", \"mt-4\", \"nav\", \"justify-content-center\"], [3, \"className\"], [1, \"page-link\", 3, \"disabled\", \"click\"], [\"name\", \"corner-down-left\"], [\"class\", \"page-item\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"corner-down-right\"], [\"colspan\", \"3\"], [1, \"preloader\"], [1, \"lds-ripple\"], [1, \"lds-pos\"], [1, \"btn\", \"btn-success\", \"col-12\", 3, \"routerLink\"], [\"name\", \"user-plus\"], [\"scope\", \"col\", 1, \"table-light\"], [\"name\", \"Shuffle\", 3, \"click\", \"mouseover\"], [1, \"btn-group\"], [1, \"btn\", \"btn-warning\", 3, \"click\"], [\"name\", \"Settings\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"name\", \"file-minus\", \"data-confirm\", \"Are you sure to delete this item?\"], [1, \"page-item\"], [3, \"className\", \"click\"]], template: function NgxDataTableComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"input\", 4);\r\n        i0.ɵɵlistener(\"ngModelChange\", function NgxDataTableComponent_Template_input_ngModelChange_4_listener($event) { return ctx.phrase = $event; });\r\n        i0.ɵɵelementEnd()()()();\r\n        i0.ɵɵelementStart(5, \"div\", 5);\r\n        i0.ɵɵtemplate(6, NgxDataTableComponent_tr_6_Template, 6, 0, \"tr\", 6);\r\n        i0.ɵɵelementStart(7, \"div\");\r\n        i0.ɵɵtemplate(8, NgxDataTableComponent_button_8_Template, 3, 2, \"button\", 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"div\", 8)(10, \"table\", 9)(11, \"thead\")(12, \"tr\");\r\n        i0.ɵɵtemplate(13, NgxDataTableComponent_th_13_Template, 3, 1, \"th\", 10);\r\n        i0.ɵɵelementStart(14, \"th\", 11);\r\n        i0.ɵɵtext(15, \"IMDB link\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(16, \"th\", 11);\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(17, \"tbody\");\r\n        i0.ɵɵtemplate(18, NgxDataTableComponent_tr_18_Template, 10, 1, \"tr\", 12);\r\n        i0.ɵɵpipe(19, \"sorter\");\r\n        i0.ɵɵpipe(20, \"filter\");\r\n        i0.ɵɵpipe(21, \"slice\");\r\n        i0.ɵɵpipe(22, \"async\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵelementStart(23, \"nav\", 13)(24, \"ul\", 14)(25, \"li\", 15)(26, \"button\", 16);\r\n        i0.ɵɵlistener(\"click\", function NgxDataTableComponent_Template_button_click_26_listener() { return ctx.jumptoPage(ctx.page - 1); });\r\n        i0.ɵɵtext(27, \" Previous\");\r\n        i0.ɵɵelement(28, \"i-feather\", 17);\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵtemplate(29, NgxDataTableComponent_li_29_Template, 3, 2, \"li\", 18);\r\n        i0.ɵɵelementStart(30, \"li\", 15)(31, \"button\", 16);\r\n        i0.ɵɵlistener(\"click\", function NgxDataTableComponent_Template_button_click_31_listener() { return ctx.jumptoPage(ctx.page + 1); });\r\n        i0.ɵɵtext(32, \"Next\");\r\n        i0.ɵɵelement(33, \"i-feather\", 19);\r\n        i0.ɵɵelementEnd()()()()()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.phrase);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.list || ctx.list.length == 0);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", (ctx.auth.user$.value == null ? null : ctx.auth.user$.value.role) === 3);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.columns);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(19, 10, i0.ɵɵpipeBind3(20, 14, i0.ɵɵpipeBind3(21, 18, i0.ɵɵpipeBind1(22, 22, ctx.list$), ctx.startSlice, ctx.endSlice), ctx.phrase, ctx.filterKey), ctx.columnKey, ctx.sortDir));\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"className\", ctx.page === 1 ? \"page-item disabled\" : \"page-item\");\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"disabled\", ctx.page === 1);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.pageList);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"className\", ctx.page === ctx.pageList.length ? \"page-item disabled\" : \"page-item\");\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"disabled\", ctx.page === ctx.pageList.length);\r\n    } }, directives: [i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.NgIf, i3.RouterLink, i6.FeatherComponent, i5.NgForOf], pipes: [i7.SorterPipe, i8.FilterPipe, i5.SlicePipe, i5.AsyncPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJuZ3gtZGF0YS10YWJsZS5jb21wb25lbnQuc2NzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}